# Краткий конспект по GIT

## Система контроля версий
*Система контроля версий (VSC)* - это такая программа, с помощью которой возможно хранить историю версий проекта.
Основные функции таких систем это:
* Хранит историю изменений в виде отдельных ревизий
* Позволяет манипулировать историей
* Помогает анализировать изменения
* Возможность командной работы

## GIT
**GIT** - это одна из самых популярных *систем контроля версий*, проект с открытым исходным кодом.
Консольный инструмент, для работы с локальными и удаленными репозиториями.

Для того, чтобы начать отслеживать изменения в проекте, надо в папке с этим проектом инициализировать репозиторий. Это делается командой **git init**.

Далее нужно добавить файлы для сохранения. Это делается командой **git add** с передачей в качестве параметра названия файла.
Либо же для добавления всех файлов из папки использую команду **git add .**.

После добавления файлов для сохранения, нужно зафиксировать состояние проета - сделать коммит. Коммит - это одна из основных сущностей в git, это по сути слепок состояния проекта,
он гаррантирует сохранение изменений файлов в истории проекта и то, что к ним можно будет откатиться. Коммит делается командой **git commit -m "описание коммита"**.

Для проверки статуса репозитория служит команда **git status**.

Просмотреть историю коммитов - **git log**, при этом история коммитов будет выведена в обратном хронологическом порядке.

## GitHub

Одно из ключевых преимуществ Git — удобство командной работы над файлами. Для того, чтобы делиться проектом, нужно завести его **удалённую версию**.
Самая популярная платформа для такой командной работы - это **GitHub**. 

### Как связать локальный репозиторий на вашем пк с удалённым репозиторием на GitHub?
* созать репозиторий на GitHub.
* скопировать URL созаднного репозитория.
* открыть консоль в папке локального репозитория и применить команду **git remote add** и передать два параметра - имя удаллённого репозитория (по умолчанию *origin*) и его URL.
* убедиться, что репозитории связаны - команда **git remote -v**.

Теперь можно отправлять изменения на удалённый репозиторий - командой `git push`. В первый раз эту команду нужно использовать с флагом `-u` и параметрами `origin`
(имя удалённого репозитория) и `main` или `master` (название текущей ветки). `git push -u origin main`

### README

Для того, чтобы потенциальные пользователи вашего приложения, лучше могли понять, что из себя представляет проект, его нужно описать. Такое описание принято оформлять в файле README.md.

## ХЭШ - идентификатор коммита

**Хэширование** - это способ преобразовать набор данных и получить их *отпечаток*.

GIT хэширует информацию о коммите (когда и кем бысл сделан коммит, содержимое файлов, ссылка на предидущий коммит) с помощью алгоритма **SHA-1** и получает для каждого коммита свой *уникальный хэш*.
Хэш состоит из 40 символов (0-9, A - F)

GIT хранит таблицу соответствий **хэш -> информация о коммите**, зная хэш можно получить всю информацию о коммите. **ХЭШ - основной идентификатор коммита**.

## Лог - журнал записей

После вызова `git log` появляется список коммитов. Описание каждого коммита в выводе лога состоит из следующих элементов:
* полный хэш коммита
* Author - имя автора и его электронная почта
* Date - дата и время создания коммита
* сообщение коммита

Получить **сокращенный лог** можно командой `git log --oneline`. В терминале появятся только первые несколько символов хэша каждого коммита и их комментарии.
Длина комментария при этом будет обрезана до 72 символов. Сокращенные хэши можно использовать также как и полные.

## HEAD - всему голова

При вызове команды **git log** после хэша одного из коммитов будет надпись `HEAD -> master`.

**HEAD** - это один из служебных файлов папки *.git*, он указывает на коммит, который сделан последним.
Внутри `HEAD` ссылка на служебный файл `refs/heads/master`, внутри этого файла содержится хэш последнего коммита.

Если в качестве параметра команде git нужно передать хэш последнего коммита, то можно использовать слово `HEAD`.

## Статусы файлов

* `untracked` - неотслеживаемый. Git видит, что файл существует, но не отслеживает изменения в нём.
* `staged` - подготовленный. После выполнения команды `git add` файл попадает в `staging area`, то есть в список файлов, которые войдут в коммит. **Staging area** иногда назыввают **index** или **cashe**.
* `tracked` - отслеживаемый. В него попадают файлы, которые уже были зафиксированы с помощью `git commit`, а также файлы, которые были добавлены в `staging area`.
* `modified` - измененный. Файл был изменён по сравнению с последней сохранённой версией.

![Диаграмма изменения статусов](/img/status_scheme.PNG)

1. Файл только создали, git про него не знает. Состояние `untracked`.
2. Файл добавили в **staging area** командой `git add`. Состояние `staged` (+ `tracked`).
    - Возможно изменили файл ещё раз. Состояния: `modified`, `staged` (+ `tracked`).
	При этом `staged` и `modified` имеют разные версии одного файла.
    - Повторно выполнили `git add`. Состояние `staged` (+ `tracked`)
3. Сделали коммит `git commit` состояние `tracked`.
4. Изменили файл. Состояние `modified` (+ `tracked`).
5. Снова добавили в **staging area** `git add`. Состояние `staged` (+ `tracked`).
6. Сделали **коммит**. Состояние `tracked`.